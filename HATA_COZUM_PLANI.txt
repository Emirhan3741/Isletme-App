===============================================================
🎯 LOCAPO - HATA ÇÖZÜM ADIM ADIM PLANI
===============================================================
📅 Oluşturulma: 3 Ağustos 2025
🎯 Hedef: Tüm compile hatalarını çözerek projeyi çalışır hale getirme
⏱️  Tahmini süre: 2-3 saat
===============================================================

🚀 ADIM 1: KRİTİK GOOGLE SIGN-IN HATALARI (30 dakika)
===============================================================

PROBLEM: google_sign_in v7+ API uyumsuzluğu
ETKI: Derleme tamamen başarısız

YAPILACAKLAR:
✅ 1.1: pubspec.yaml'da google_sign_in version kontrol
✅ 1.2: lib/services/google_signin_complete_service.dart'ı demo mode'a çevir
✅ 1.3: lib/services/google_auth_service.dart'da GoogleSignIn kullanımını comment out
✅ 1.4: Geçici çözüm olarak email/password auth'u aktif tut

KOMUTLAR:
```bash
# Version kontrol
flutter pub deps | findstr google_sign_in

# Temizlik
flutter clean && flutter pub get
```

===============================================================
🔧 ADIM 2: AUTH PROVIDER VE NAVİGASYON (45 dakika)
===============================================================

PROBLEM: AuthProvider import ve eksik method'lar
ETKI: Giriş sistemi çalışmıyor

YAPILACAKLAR:
✅ 2.1: lib/screens/auth_wrapper.dart - providers. prefix'ini kaldır
✅ 2.2: _buildLoadingScreen() method'unu ekle veya kullanımını kaldır
✅ 2.3: _buildSectorSelectionPage() method'unu ekle veya kullanımını kaldır
✅ 2.4: lib/providers/auth_provider.dart - UserRole tipini String'e çevir

DOSYA DÜZELTMELERİ:

auth_wrapper.dart:
- providers.AuthProvider -> AuthProvider
- _buildLoadingScreen() ekle veya kaldır
- _buildSectorSelectionPage() ekle veya kaldır

auth_provider.dart:
- UserRole? _role -> String? _role
- UserRole? get role -> String? get role

===============================================================
🔨 ADIM 3: METHOD VE PARAMETRE HATALARI (30 dakika)
===============================================================

PROBLEM: Yanlış parametre sayıları ve tip uyumsuzlukları
ETKI: Method çağrıları başarısız

YAPILACAKLAR:
✅ 3.1: lib/screens/auth/register_page.dart - createUserWithEmailAndPassword parametrelerini düzelt
✅ 3.2: lib/utils/document_integration_helper.dart - customerId parametresini ekle
✅ 3.3: lib/services/automation_service.dart - appointment.toMap() kullan
✅ 3.4: lib/providers/auth_provider.dart - saveTokenToFirestore parametrelerini düzelt

DÜZELTİLECEK ÇAĞRILAR:

register_page.dart:
```dart
// ÖNCE:
await authProvider.createUserWithEmailAndPassword(email, password, name, sector, role);

// SONRA:
await authProvider.createUserWithEmailAndPassword(email, password, name);
```

automation_service.dart:
```dart
// ÖNCE:
await _notificationService.sendAppointmentReminder(appointment);

// SONRA:
await _notificationService.sendAppointmentReminder(appointment.toMap());
```

===============================================================
📝 ADIM 4: MODEL VE TİP HATALARI (20 dakika)
===============================================================

PROBLEM: String/Enum uyumsuzlukları
ETKI: Model işlemleri başarısız

YAPILACAKLAR:
✅ 4.1: lib/pages/add_edit_note_page.dart - NoteCategory.toString() ekle
✅ 4.2: lib/pages/add_edit_note_page.dart - MaterialColor.toString() ekle
✅ 4.3: Type casting işlemlerini düzelt

DÜZELTİLECEK ATAMALAR:
```dart
// ÖNCE:
_selectedCategory = value;
_selectedColor = value;

// SONRA:
_selectedCategory = value.toString();
_selectedColor = value.toString();
```

===============================================================
🔥 ADIM 5: FIREBASE VE SERVİS HATALARI (45 dakika)
===============================================================

PROBLEM: Firebase API değişiklikleri ve eksik method'lar
ETKI: Backend işlemleri çalışmıyor

YAPILACAKLAR:
✅ 5.1: lib/services/notification_service.dart - FCM API güncellemeleri
✅ 5.2: lib/screens/dashboard/dashboard_page.dart - eksik method'ları ekle
✅ 5.3: lib/services/ocr_service.dart - PDF package import'u ekle
✅ 5.4: TransactionType enum'ına 'debt' değeri ekle

EKLENECEKLER:

dashboard_page.dart:
```dart
Widget _buildDashboardCard({required String title, required String value, required IconData icon}) {
  return Card(
    child: ListTile(
      leading: Icon(icon),
      title: Text(title),
      subtitle: Text(value),
    ),
  );
}

Widget _buildSectionHeader(String title) {
  return Padding(
    padding: EdgeInsets.all(16),
    child: Text(title, style: Theme.of(context).textTheme.headlineSmall),
  );
}
```

===============================================================
🧹 ADIM 6: TEMIZLIK VE OPTIMIZATION (20 dakika)
===============================================================

PROBLEM: Unused imports ve dead code
ETKI: Performance ve maintainability

YAPILACAKLAR:
✅ 6.1: Unused import'ları kaldır
✅ 6.2: Unused field'ları kaldır  
✅ 6.3: Dead code'ları temizle
✅ 6.4: Deprecated API'leri güncelle

KOMUTLAR:
```bash
# Analiz
flutter analyze --no-fatal-infos

# Unused import temizliği (IDE ile)
# Dead code kaldırma (IDE ile)
```

===============================================================
🧪 ADIM 7: TEST VE DOĞRULAMA (30 dakika)
===============================================================

YAPILACAKLAR:
✅ 7.1: Her adım sonrası flutter analyze çalıştır
✅ 7.2: Flutter clean && pub get
✅ 7.3: Web test: flutter run -d chrome
✅ 7.4: Ana fonksiyonları test et (giriş, sayfa geçişleri)
✅ 7.5: AI Chatbox test et

TEST KOMUTLARI:
```bash
# Temizlik
flutter clean && flutter pub get

# Analiz
flutter analyze

# Web test
flutter run -d chrome --web-port=3000

# Debug test
flutter run -d chrome --verbose
```

===============================================================
📋 İLERLEME TAKİP TABLOSU
===============================================================

[ ] ADIM 1: Google Sign-In Hatalarını Çöz
    [ ] pubspec version kontrol
    [ ] Demo mode activation
    [ ] Import düzeltmeleri
    [ ] Test: flutter analyze

[ ] ADIM 2: Auth Provider Düzeltmeleri
    [ ] Import prefix kaldır
    [ ] Eksik method'ları ekle/kaldır
    [ ] UserRole -> String çevir
    [ ] Test: flutter analyze

[ ] ADIM 3: Method Parametreleri
    [ ] Register page parametreleri
    [ ] Document helper customerId
    [ ] Automation service toMap()
    [ ] Test: flutter analyze

[ ] ADIM 4: Model Tip Hataları
    [ ] NoteCategory toString()
    [ ] MaterialColor toString()
    [ ] Test: flutter analyze

[ ] ADIM 5: Firebase Servisleri
    [ ] Notification service FCM
    [ ] Dashboard eksik method'lar
    [ ] OCR service PDF import
    [ ] Test: flutter analyze

[ ] ADIM 6: Temizlik
    [ ] Unused imports
    [ ] Dead code
    [ ] Test: flutter analyze

[ ] ADIM 7: Final Test
    [ ] Web compilation test
    [ ] Functionality test
    [ ] AI Chatbox test

===============================================================
🚨 ACİL DURUM PLANI
===============================================================

EĞER ADIM 1-3 BAŞARISIZ OLURSA:
1. Backup dosyalarına geri dön
2. Google Sign-In feature'ını tamamen devre dışı bırak
3. Sadece email/password auth ile devam et
4. AI Chatbox sistemini test et

EĞER HİÇBİR ÇÖZÜM İŞE YARAMAZSA:
1. Flutter downgrade (son stable version)
2. Package version'larını düşür
3. Minimal working version oluştur

===============================================================
✅ BAŞARI KRİTERLERİ
===============================================================

1. ✅ flutter analyze - 0 critical error
2. ✅ flutter run -d chrome - successful compilation  
3. ✅ Login page açılır ve çalışır
4. ✅ Ana dashboard erişilebilir
5. ✅ AI Chatbox butonu görünür ve tıklanabilir
6. ✅ Temel navigasyon çalışır

===============================================================
📞 DESTEK KAYNAKLARI
===============================================================

- Flutter documentation: https://flutter.dev/docs
- Firebase documentation: https://firebase.google.com/docs
- Google Sign-In troubleshooting: https://pub.dev/packages/google_sign_in
- Dialogflow setup: https://cloud.google.com/dialogflow

===============================================================